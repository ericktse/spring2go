# 端口
server:
  port: 4000

spring:
  application:
    # 应用名称
    name: spring2go-upms
  # mysql
  datasource:
    url: jdbc:mysql://127.0.0.1:3306/spring2go_upms?characterEncoding=UTF-8&useUnicode=true&useSSL=false&tinyInt1isBit=false&allowPublicKeyRetrieval=true&serverTimezone=Asia/Shanghai
    username: root
    password: 123456
  profiles:
    # 环境配置
    active: dev
  cloud:
    #nacos
    nacos:
      discovery:
        # 服务注册地址
        server-addr: 127.0.0.1:8848
      config:
        # 配置中心地址
        server-addr: ${spring.cloud.nacos.discovery.server-addr}
        # 配置文件格式
        file-extension: yml
        # 共享配置
        shared-configs:
          - spring2go-application-${spring.profiles.active}.${spring.cloud.nacos.config.file-extension}

# mybatis配置
mybatis-plus:
  mapper-locations: classpath:mapper/**/*.xml
  configuration:
    # 这个配置会将执行的sql打印出来，在开发或测试的时候可以用
    log-impl: org.apache.ibatis.logging.stdout.StdOutImpl

#日志级别
logging:
  level:
    com.spring2go: debug

spring2go:
  # swagger配置
  swagger:
    enabled: true
    title: UPMS 系统模块接口文档
  #分布式锁配置
  redisson:
    address: 127.0.0.1:6379
    password:
    type: STANDALONE
  shiro:
    # TODO:登录相关内部接口，登录时调用，这里不做校验，后续需加内部调用限制
    pathDefinitions: |
      /sys/user/getInfoByUserName: anon
      /sys/role/getRoleByUserName: anon
      /sys/role/getPermsByUserName: anon
      /sys/log: anon

# shiro的屏蔽非常反人类，必须设置这么多个false
# TODO：此处仅为了方便测试，暂时关闭，生产禁止使用
shiro:
  annotations:
    enabled: false
  web:
    enabled: false
  enabled: false